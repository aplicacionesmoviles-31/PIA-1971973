"use strict";(self.webpackChunkpia=self.webpackChunkpia||[]).push([[3527],{3527:function(V,j,k){k.r(j),k.d(j,{pwa_camera_modal_instance:function(){return J}});var W=k(5861),z=k(5671),H=k(3144),y=k(6738);function L(){L=function(){return f};var f={},v=Object.prototype,c=v.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},l=g.iterator||"@@iterator",P=g.asyncIterator||"@@asyncIterator",b=g.toStringTag||"@@toStringTag";function h(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(e){h=function(r,n,o){return r[n]=o}}function K(e,t,r,n){var d,m,a,s,i=Object.create((t&&t.prototype instanceof x?t:x).prototype),u=new I(n||[]);return i._invoke=(d=e,m=r,a=u,s="suspendedStart",function(_,Y){if("executing"===s)throw new Error("Generator is already running");if("completed"===s){if("throw"===_)throw Y;return{value:void 0,done:!0}}for(a.method=_,a.arg=Y;;){var $=a.delegate;if($){var B=U($,a);if(B){if(B===p)continue;return B}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===s)throw s="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);s="executing";var C=T(d,m,a);if("normal"===C.type){if(s=a.done?"completed":"suspendedYield",C.arg===p)continue;return{value:C.arg,done:a.done}}"throw"===C.type&&(s="completed",a.method="throw",a.arg=C.arg)}}),i}function T(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}f.wrap=K;var p={};function x(){}function D(){}function w(){}var A={};h(A,l,function(){return this});var G=Object.getPrototypeOf,O=G&&G(G(S([])));O&&O!==v&&c.call(O,l)&&(A=O);var E=w.prototype=x.prototype=Object.create(A);function R(e){["next","throw","return"].forEach(function(t){h(e,t,function(r){return this._invoke(t,r)})})}function N(e,t){function r(o,i,u,d){var m=T(e[o],e,i);if("throw"!==m.type){var a=m.arg,s=a.value;return s&&"object"==typeof s&&c.call(s,"__await")?t.resolve(s.__await).then(function(_){r("next",_,u,d)},function(_){r("throw",_,u,d)}):t.resolve(s).then(function(_){a.value=_,u(a)},function(_){return r("throw",_,u,d)})}d(m.arg)}var n;this._invoke=function(o,i){function u(){return new t(function(d,m){r(o,i,d,m)})}return n=n?n.then(u,u):u()}}function U(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,U(e,t),"throw"===t.method))return p;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var n=T(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,p;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function Q(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(Q,this),this.reset(!0)}function S(e){if(e){var t=e[l];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function o(){for(;++r<e.length;)if(c.call(e,r))return o.value=e[r],o.done=!1,o;return o.value=void 0,o.done=!0,o};return n.next=n}}return{next:Z}}function Z(){return{value:void 0,done:!0}}return D.prototype=w,h(E,"constructor",w),h(w,"constructor",D),D.displayName=h(w,b,"GeneratorFunction"),f.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===D||"GeneratorFunction"===(t.displayName||t.name))},f.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,h(e,b,"GeneratorFunction")),e.prototype=Object.create(E),e},f.awrap=function(e){return{__await:e}},R(N.prototype),h(N.prototype,P,function(){return this}),f.AsyncIterator=N,f.async=function(e,t,r,n,o){void 0===o&&(o=Promise);var i=new N(K(e,t,r,n),o);return f.isGeneratorFunction(t)?i:i.next().then(function(u){return u.done?u.value:i.next()})},R(E),h(E,b,"Generator"),h(E,l,function(){return this}),h(E,"toString",function(){return"[object Generator]"}),f.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},f.values=S,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(M),!t)for(var r in this)"t"===r.charAt(0)&&c.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(a,s){return u.type="throw",u.arg=t,r.next=a,s&&(r.method="next",r.arg=void 0),!!s}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var d=c.call(i,"catchLoc"),m=c.call(i,"finallyLoc");if(d&&m){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(d){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!m)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&c.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=r&&r<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=r,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(u)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),p},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),M(n),p}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;M(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:S(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},f}var J=function(){function f(v){var c=this;(0,z.Z)(this,f),(0,y.r)(this,v),this.facingMode="user",this.noDevicesText="No camera found",this.noDevicesButtonText="Choose image",this.handlePhoto=function(){var g=(0,W.Z)(L().mark(function l(P){return L().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:c.onPhoto.emit(P);case 1:case"end":return h.stop()}},l)}));return function(l){return g.apply(this,arguments)}}(),this.handleNoDeviceError=function(){var g=(0,W.Z)(L().mark(function l(P){return L().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:c.noDeviceError.emit(P);case 1:case"end":return h.stop()}},l)}));return function(l){return g.apply(this,arguments)}}(),this.onPhoto=(0,y.c)(this,"onPhoto",7),this.noDeviceError=(0,y.c)(this,"noDeviceError",7)}return(0,H.Z)(f,[{key:"handleBackdropClick",value:function(c){c.target!==this.el&&this.onPhoto.emit(null)}},{key:"handleComponentClick",value:function(c){c.stopPropagation()}},{key:"handleBackdropKeyUp",value:function(c){"Escape"===c.key&&this.onPhoto.emit(null)}},{key:"render",value:function(){var c=this;return(0,y.h)("div",{class:"wrapper",onClick:function(l){return c.handleBackdropClick(l)}},(0,y.h)("div",{class:"content"},(0,y.h)("pwa-camera",{onClick:function(l){return c.handleComponentClick(l)},facingMode:this.facingMode,handlePhoto:this.handlePhoto,handleNoDeviceError:this.handleNoDeviceError,noDevicesButtonText:this.noDevicesButtonText,noDevicesText:this.noDevicesText})))}},{key:"el",get:function(){return(0,y.g)(this)}}],[{key:"style",get:function(){return":host{z-index:1000;position:fixed;top:0;left:0;width:100%;height:100%;contain:strict;--inset-width:600px;--inset-height:600px}.wrapper,:host{display:-ms-flexbox;display:flex}.wrapper{-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:rgba(0,0,0,.15)}.content{-webkit-box-shadow:0 0 5px rgba(0,0,0,.2);box-shadow:0 0 5px rgba(0,0,0,.2);width:var(--inset-width);height:var(--inset-height);max-height:100%}@media only screen and (max-width:600px){.content{width:100%;height:100%}}"}}]),f}()}}]);