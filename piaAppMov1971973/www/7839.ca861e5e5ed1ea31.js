"use strict";(self.webpackChunkpia=self.webpackChunkpia||[]).push([[7839],{5836:function(V,$,k){k.r($),k.d($,{pwa_camera_modal:function(){return J}});var A=k(5861),z=k(5671),H=k(3144),C=k(6738);function g(){g=function(){return h};var h={},m=Object.prototype,d=m.hasOwnProperty,L="function"==typeof Symbol?Symbol:{},w=L.iterator||"@@iterator",l=L.asyncIterator||"@@asyncIterator",G=L.toStringTag||"@@toStringTag";function s(r,t,e){return Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}),r[t]}try{s({},"")}catch(r){s=function(e,n,o){return e[n]=o}}function O(r,t,e,n){var v,_,a,c,i=Object.create((t&&t.prototype instanceof P?t:P).prototype),u=new W(n||[]);return i._invoke=(v=r,_=e,a=u,c="suspendedStart",function(y,Y){if("executing"===c)throw new Error("Generator is already running");if("completed"===c){if("throw"===y)throw Y;return{value:void 0,done:!0}}for(a.method=y,a.arg=Y;;){var x=a.delegate;if(x){var Z=K(x,a);if(Z){if(Z===f)continue;return Z}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===c)throw c="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);c="executing";var N=E(v,_,a);if("normal"===N.type){if(c=a.done?"completed":"suspendedYield",N.arg===f)continue;return{value:N.arg,done:a.done}}"throw"===N.type&&(c="completed",a.method="throw",a.arg=N.arg)}}),i}function E(r,t,e){try{return{type:"normal",arg:r.call(t,e)}}catch(n){return{type:"throw",arg:n}}}h.wrap=O;var f={};function P(){}function b(){}function p(){}var S={};s(S,w,function(){return this});var T=Object.getPrototypeOf,M=T&&T(T(R([])));M&&M!==m&&d.call(M,w)&&(S=M);var D=p.prototype=P.prototype=Object.create(S);function B(r){["next","throw","return"].forEach(function(t){s(r,t,function(e){return this._invoke(t,e)})})}function I(r,t){function e(o,i,u,v){var _=E(r[o],r,i);if("throw"!==_.type){var a=_.arg,c=a.value;return c&&"object"==typeof c&&d.call(c,"__await")?t.resolve(c.__await).then(function(y){e("next",y,u,v)},function(y){e("throw",y,u,v)}):t.resolve(c).then(function(y){a.value=y,u(a)},function(y){return e("throw",y,u,v)})}v(_.arg)}var n;this._invoke=function(o,i){function u(){return new t(function(v,_){e(o,i,v,_)})}return n=n?n.then(u,u):u()}}function K(r,t){var e=r.iterator[t.method];if(void 0===e){if(t.delegate=null,"throw"===t.method){if(r.iterator.return&&(t.method="return",t.arg=void 0,K(r,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=E(e,r.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[r.resultName]=o.value,t.next=r.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function Q(r){var t={tryLoc:r[0]};1 in r&&(t.catchLoc=r[1]),2 in r&&(t.finallyLoc=r[2],t.afterLoc=r[3]),this.tryEntries.push(t)}function j(r){var t=r.completion||{};t.type="normal",delete t.arg,r.completion=t}function W(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(Q,this),this.reset(!0)}function R(r){if(r){var t=r[w];if(t)return t.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var e=-1,n=function o(){for(;++e<r.length;)if(d.call(r,e))return o.value=r[e],o.done=!1,o;return o.value=void 0,o.done=!0,o};return n.next=n}}return{next:U}}function U(){return{value:void 0,done:!0}}return b.prototype=p,s(D,"constructor",p),s(p,"constructor",b),b.displayName=s(p,G,"GeneratorFunction"),h.isGeneratorFunction=function(r){var t="function"==typeof r&&r.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},h.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,p):(r.__proto__=p,s(r,G,"GeneratorFunction")),r.prototype=Object.create(D),r},h.awrap=function(r){return{__await:r}},B(I.prototype),s(I.prototype,l,function(){return this}),h.AsyncIterator=I,h.async=function(r,t,e,n,o){void 0===o&&(o=Promise);var i=new I(O(r,t,e,n),o);return h.isGeneratorFunction(t)?i:i.next().then(function(u){return u.done?u.value:i.next()})},B(D),s(D,G,"Generator"),s(D,w,function(){return this}),s(D,"toString",function(){return"[object Generator]"}),h.keys=function(r){var t=[];for(var e in r)t.push(e);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in r)return n.value=o,n.done=!1,n}return n.done=!0,n}},h.values=R,W.prototype={constructor:W,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!t)for(var e in this)"t"===e.charAt(0)&&d.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(a,c){return u.type="throw",u.arg=t,e.next=a,c&&(e.method="next",e.arg=void 0),!!c}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var v=d.call(i,"catchLoc"),_=d.call(i,"finallyLoc");if(v&&_){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(v){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!_)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&d.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var u=i?i.completion:{};return u.type=t,u.arg=e,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(u)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var o=n.completion;if("throw"===o.type){var i=o.arg;j(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:R(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},h}var J=function(){function h(m){(0,z.Z)(this,h),(0,C.r)(this,m),this.facingMode="user",this.onPhoto=(0,C.c)(this,"onPhoto",7),this.noDeviceError=(0,C.c)(this,"noDeviceError",7)}return(0,H.Z)(h,[{key:"present",value:(m=(0,A.Z)(g().mark(function L(){var l,w=this;return g().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:(l=document.createElement("pwa-camera-modal-instance")).facingMode=this.facingMode,l.addEventListener("onPhoto",function(){var O=(0,A.Z)(g().mark(function E(f){return g().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(w._modal){p.next=2;break}return p.abrupt("return");case 2:w.onPhoto.emit(f.detail);case 4:case"end":return p.stop()}},E)}));return function(E){return O.apply(this,arguments)}}()),l.addEventListener("noDeviceError",function(){var O=(0,A.Z)(g().mark(function E(f){return g().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:w.noDeviceError.emit(f);case 1:case"end":return b.stop()}},E)}));return function(E){return O.apply(this,arguments)}}()),document.body.append(l),this._modal=l;case 6:case"end":return s.stop()}},L,this)})),function d(){return m.apply(this,arguments)})},{key:"dismiss",value:function(){var m=(0,A.Z)(g().mark(function L(){return g().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this._modal){l.next=2;break}return l.abrupt("return");case 2:this._modal&&this._modal.parentNode.removeChild(this._modal),this._modal=null;case 4:case"end":return l.stop()}},L,this)}));return function d(){return m.apply(this,arguments)}}()},{key:"render",value:function(){return(0,C.h)("div",null)}}],[{key:"style",get:function(){return":host{z-index:1000;position:fixed;top:0;left:0;width:100%;height:100%;contain:strict}.wrapper,:host{display:-ms-flexbox;display:flex}.wrapper{-ms-flex:1;flex:1;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;background-color:rgba(0,0,0,.15)}.content{-webkit-box-shadow:0 0 5px rgba(0,0,0,.2);box-shadow:0 0 5px rgba(0,0,0,.2);width:600px;height:600px}"}}]),h;var m}()}}]);